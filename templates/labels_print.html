{% extends "base.html" %}

{% block head_extra %}
<link rel="stylesheet" href="/static/avery_{{ preset }}.css">
{% endblock %}
{% block content %}

<section class="panel print-only preset-{{ preset }}{% if show_outline %} show-outline{% endif %}">
    <div class="labels">
        {% for l in labels %}
        {% if l.type == "skip" %}
        <div class="label skip" aria-hidden="true">
            <span class="skip-marker">×</span>
        </div>
        {% elif l.type == "part" %}
        <div class="label part">
            <div class="part-container">{{ l.container }}</div>
            <div class="part-description">{{ l.description }}</div>
            {% if l.notes %}
            <div class="part-notes">{{ l.notes }}</div>
            {% endif %}
            {% if l.subcategory %}
            <div class="part-subcategory">{{ l.subcategory }}</div>
            {% endif %}
        </div>
        {% else %}
        <div class="label {{ l.type }}">
            <div class="label-code">{{ l.code }}</div>

            {% if l.type == "asset" %}
            <img class="label-qr" src="data:image/png;base64,{{ l.qr }}" alt="QR {{ l.code }}">
            {% elif l.type == "combo" %}
            <div class="label-combo-content">
                <img class="label-qr" src="data:image/png;base64,{{ l.qr }}" alt="QR {{ l.code }}">
                {% if l.text %}
                <div class="label-text">{{ l.text }}</div>
                {% endif %}
            </div>
            {% else %}
            <div class="label-text">{{ l.text if l.text else "—" }}</div>
            {% endif %}
        </div>
        {% endif %}
        {% endfor %}
    </div>
</section>

{% endblock %}